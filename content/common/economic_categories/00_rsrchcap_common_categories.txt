
planet_jobs = {
	parent = planets

	generate_mult_modifiers = {
		produces
		upkeep
	}

	triggered_produces_modifier = {
		key = planet_jobs_slave
		modifier_types = {
			mult
		}
		trigger = {
			is_pop_category = slave
		}
	}

	triggered_produces_modifier = {
		key = planet_jobs_worker
		modifier_types = {
			mult
		}
		trigger = {
			OR = {
				is_pop_category = worker
				is_pop_category = slave # Yes, slave should count towards both worker and slave
				is_pop_category = simple_drone
			}
		}
	}

	triggered_produces_modifier = {
		key = planet_jobs_specialist
		modifier_types = {
			mult
		}
		trigger = {
			is_pop_category = specialist
		}
	}

	triggered_produces_modifier = {
		key = planet_jobs_ruler
		modifier_types = {
			mult
		}
		trigger = {
			is_pop_category = ruler
		}
	}

	triggered_produces_modifier = {
		key = planet_jobs_simple_drone
		modifier_types = {
			mult
		}
		trigger = {
			is_pop_category = simple_drone
		}
	}

	triggered_produces_modifier = {
		key = planet_jobs_complex_drone
		modifier_types = {
			mult
		}
		trigger = {
			is_pop_category = complex_drone
		}
	}

	triggered_produces_modifier = {
		key = planet_jobs_robotic
		modifier_types = {
			mult
		}
		trigger = {
			is_robot_pop = yes
		}
	}

	triggered_produces_modifier = {
		key = rsrchcap_purge
		modifier_types = {
			add
		}
		trigger = {
			OR = {
				has_job = purge
				has_job = event_purge
			}
			exists = owner
			owner = { has_valid_civic = civic_hive_devouring_swarm }
		}
	}
}

planet_researchers = {
	icon = "job_researcher"
	parent = planet_jobs
	generate_mult_modifiers = {
		produces
		upkeep
	}

	triggered_produces_modifier = {
		key = rsrchcap_head_researcher
		modifier_types = {
			add
		}
		trigger = {
			has_job = head_researcher
		}
	}

	triggered_produces_modifier = {
		key = rsrchcap_researcher
		modifier_types = {
			add
		}
		trigger = {
			OR = {
				has_job = researcher
				has_job = brain_drone
				has_job = calculator
			}
		}
	}

	triggered_produces_modifier = {
		key = rsrchcap_dimensional_portal_researcher
		modifier_types = {
			add
		}
		trigger = {
			OR = {
				has_job = dimensional_portal_researcher
				has_job = dimensional_portal_researcher_gestalt
			}
		}
	}

	triggered_produces_modifier = {
		key = rsrchcap_dimensional_portal_researcher_closed
		modifier_types = {
			add
		}
		trigger = {
			OR = {
				has_job = dimensional_portal_researcher
				has_job = dimensional_portal_researcher_gestalt
			}
			exists = planet
			planet = { has_planet_flag = dportal_closed }
		}
	}
}

planet_priests = {
	parent = planet_jobs
	generate_mult_modifiers = {
		produces
	}

	triggered_produces_modifier = {
		key = rsrchcap_priest
		modifier_types = {
			add
		}
		trigger = {
			OR = {
				has_job = high_priest
				has_job = priest
			}
		}
	}
}

planet_culture_workers = {
	parent = planet_jobs
	generate_mult_modifiers = {
		produces
	}

	triggered_produces_modifier = {
		key = rsrchcap_culture_worker
		modifier_types = {
			add
		}
		trigger = {
			has_job = culture_worker
		}
	}
}

planet_managers = {
	parent = planet_jobs
	generate_mult_modifiers = {
		produces
	}

	triggered_produces_modifier = {
		key = rsrchcap_manager
		modifier_types = {
			add
		}
		trigger = {
			has_job = manager
		}
	}
}

megastructures = {
	parent = country
	use_for_ai_budget = yes
	ai_use_parent_for_resources_upkeep = {
		energy
		consumer_goods
	}

	triggered_produces_modifier = {
		key = rsrchcap_science_nexus_1
		modifier_types = {
			add
		}
		trigger = {
			is_megastructure_type = think_tank_1
		}
	}
	triggered_produces_modifier = {
		key = rsrchcap_science_nexus_2
		modifier_types = {
			add
		}
		trigger = {
			is_megastructure_type = think_tank_2
		}
	}
	triggered_produces_modifier = {
		key = rsrchcap_science_nexus_3
		modifier_types = {
			add
		}
		trigger = {
			OR = {
				is_megastructure_type = think_tank_3
				is_megastructure_type = think_tank_restored
			}
		}
	}
	triggered_produces_modifier = {
		key = rsrchcap_science_nexus_4
		modifier_types = {
			add
		}
		trigger = {
			is_megastructure_type = think_tank_4
		}
	}
}
